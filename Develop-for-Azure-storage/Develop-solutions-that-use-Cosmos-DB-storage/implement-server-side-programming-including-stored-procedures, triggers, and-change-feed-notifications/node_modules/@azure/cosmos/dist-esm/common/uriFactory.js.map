{"version":3,"file":"uriFactory.js","sourceRoot":"","sources":["../../src/common/uriFactory.ts"],"names":[],"mappings":"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","sourcesContent":["// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\nimport { Constants } from \"./constants\";\nimport { trimSlashFromLeftAndRight, validateResourceId } from \"./helper\";\n\n/**\n * @ignore\n * Given a database id, this creates a database link.\n * @param {string} databaseId -The database id\n * @returns {string}          -A database link in the format of dbs/{0} \\\n * with {0} being a Uri escaped version of the databaseId\n * @description Would be used when creating or deleting a DocumentCollection \\\n * or a User in Azure Cosmos DB database service\n */\nexport function createDatabaseUri(databaseId: string) {\n  databaseId = trimSlashFromLeftAndRight(databaseId);\n  validateResourceId(databaseId);\n\n  return Constants.Path.DatabasesPathSegment + \"/\" + databaseId;\n}\n\n/**\n * Given a database and collection id, this creates a collection link.\n * @param {string} databaseId        -The database id\n * @param {string} collectionId      -The collection id\n * @returns {string}                 A collection link in the format of dbs/{0}/colls/{1} \\\n * with {0} being a Uri escaped version of the databaseId and {1} being collectionId\n * @description Would be used when updating or deleting a DocumentCollection, creating a \\\n * Document, a StoredProcedure, a Trigger, a UserDefinedFunction, or when executing a query \\\n * with CreateDocumentQuery in Azure Cosmos DB database service.\n * @ignore\n */\nexport function createDocumentCollectionUri(databaseId: string, collectionId: string) {\n  collectionId = trimSlashFromLeftAndRight(collectionId);\n  validateResourceId(collectionId);\n\n  return (\n    createDatabaseUri(databaseId) + \"/\" + Constants.Path.CollectionsPathSegment + \"/\" + collectionId\n  );\n}\n\n/**\n * Given a database and user id, this creates a user link.\n * @param {string} databaseId        -The database id\n * @param {string} userId            -The user id\n * @returns {string}                 A user link in the format of dbs/{0}/users/{1} \\\n * with {0} being a Uri escaped version of the databaseId and {1} being userId\n * @description Would be used when creating a Permission, or when replacing or deleting \\\n * a User in Azure Cosmos DB database service\n * @ignore\n */\nexport function createUserUri(databaseId: string, userId: string) {\n  userId = trimSlashFromLeftAndRight(userId);\n  validateResourceId(userId);\n\n  return createDatabaseUri(databaseId) + \"/\" + Constants.Path.UsersPathSegment + \"/\" + userId;\n}\n\n/**\n * Given a database and collection id, this creates a collection link.\n * @param {string} databaseId        -The database id\n * @param {string} collectionId      -The collection id\n * @param {string} documentId        -The document id\n * @returns {string}                 -A document link in the format of \\\n * dbs/{0}/colls/{1}/docs/{2} with {0} being a Uri escaped version of \\\n * the databaseId, {1} being collectionId and {2} being the documentId\n * @description Would be used when creating an Attachment, or when replacing \\\n * or deleting a Document in Azure Cosmos DB database service\n * @ignore\n */\nexport function createDocumentUri(databaseId: string, collectionId: string, documentId: string) {\n  documentId = trimSlashFromLeftAndRight(documentId);\n  validateResourceId(documentId);\n\n  return (\n    createDocumentCollectionUri(databaseId, collectionId) +\n    \"/\" +\n    Constants.Path.DocumentsPathSegment +\n    \"/\" +\n    documentId\n  );\n}\n\n/**\n * Given a database, collection and document id, this creates a document link.\n * @param {string} databaseId    -The database Id\n * @param {string} userId        -The user Id\n * @param {string} permissionId  - The permissionId\n * @returns {string} A permission link in the format of dbs/{0}/users/{1}/permissions/{2} \\\n * with {0} being a Uri escaped version of the databaseId, {1} being userId and {2} being permissionId\n * @description Would be used when replacing or deleting a Permission in Azure Cosmos DB database service.\n * @ignore\n */\nexport function createPermissionUri(databaseId: string, userId: string, permissionId: string) {\n  permissionId = trimSlashFromLeftAndRight(permissionId);\n  validateResourceId(permissionId);\n\n  return (\n    createUserUri(databaseId, userId) +\n    \"/\" +\n    Constants.Path.PermissionsPathSegment +\n    \"/\" +\n    permissionId\n  );\n}\n\n/**\n * Given a database, collection and stored proc id, this creates a stored proc link.\n * @param {string} databaseId        -The database Id\n * @param {string} collectionId      -The collection Id\n * @param {string} storedProcedureId -The stored procedure Id\n * @returns {string}                 -A stored procedure link in the format of \\\n * dbs/{0}/colls/{1}/sprocs/{2} with {0} being a Uri escaped version of the databaseId, \\\n * {1} being collectionId and {2} being the storedProcedureId\n * @description Would be used when replacing, executing, or deleting a StoredProcedure in \\\n * Azure Cosmos DB database service.\n * @ignore\n */\nexport function createStoredProcedureUri(\n  databaseId: string,\n  collectionId: string,\n  storedProcedureId: string\n) {\n  storedProcedureId = trimSlashFromLeftAndRight(storedProcedureId);\n  validateResourceId(storedProcedureId);\n\n  return (\n    createDocumentCollectionUri(databaseId, collectionId) +\n    \"/\" +\n    Constants.Path.StoredProceduresPathSegment +\n    \"/\" +\n    storedProcedureId\n  );\n}\n\n/**\n * @summary Given a database, collection and trigger id, this creates a trigger link.\n * @param {string} databaseId        -The database Id\n * @param {string} collectionId      -The collection Id\n * @param {string} triggerId         -The trigger Id\n * @returns {string}                 -A trigger link in the format of \\\n * dbs/{0}/colls/{1}/triggers/{2} with {0} being a Uri escaped version of the databaseId, \\\n * {1} being collectionId and {2} being the triggerId\n * @description Would be used when replacing, executing, or deleting a Trigger in Azure Cosmos DB database service\n * @ignore\n */\nexport function createTriggerUri(databaseId: string, collectionId: string, triggerId: string) {\n  triggerId = trimSlashFromLeftAndRight(triggerId);\n  validateResourceId(triggerId);\n\n  return (\n    createDocumentCollectionUri(databaseId, collectionId) +\n    \"/\" +\n    Constants.Path.TriggersPathSegment +\n    \"/\" +\n    triggerId\n  );\n}\n\n/**\n * @summary Given a database, collection and udf id, this creates a udf link.\n * @param {string} databaseId        -The database Id\n * @param {string} collectionId      -The collection Id\n * @param {string} udfId             -The User Defined Function Id\n * @returns {string}                 -A udf link in the format of dbs/{0}/colls/{1}/udfs/{2} \\\n * with {0} being a Uri escaped version of the databaseId, {1} being collectionId and {2} being the udfId\n * @description Would be used when replacing, executing, or deleting a UserDefinedFunction in \\\n * Azure Cosmos DB database service\n * @ignore\n */\nexport function createUserDefinedFunctionUri(\n  databaseId: string,\n  collectionId: string,\n  udfId: string\n) {\n  udfId = trimSlashFromLeftAndRight(udfId);\n  validateResourceId(udfId);\n\n  return (\n    createDocumentCollectionUri(databaseId, collectionId) +\n    \"/\" +\n    Constants.Path.UserDefinedFunctionsPathSegment +\n    \"/\" +\n    udfId\n  );\n}\n\n/**\n * @summary Given a database, collection and conflict id, this creates a conflict link.\n * @param {string} databaseId        -The database Id\n * @param {string} collectionId      -The collection Id\n * @param {string} conflictId        -The conflict Id\n * @returns {string}                 -A conflict link in the format of dbs/{0}/colls/{1}/conflicts/{2} \\\n * with {0} being a Uri escaped version of the databaseId, {1} being collectionId and {2} being the conflictId\n * @description Would be used when creating a Conflict in Azure Cosmos DB database service.\n * @ignore\n */\nexport function createConflictUri(databaseId: string, collectionId: string, conflictId: string) {\n  conflictId = trimSlashFromLeftAndRight(conflictId);\n  validateResourceId(conflictId);\n\n  return (\n    createDocumentCollectionUri(databaseId, collectionId) +\n    \"/\" +\n    Constants.Path.ConflictsPathSegment +\n    \"/\" +\n    conflictId\n  );\n}\n\n/**\n * @summary Given a database, collection and conflict id, this creates a conflict link.\n * @param {string} databaseId        -The database Id\n * @param {string} collectionId      -The collection Id\n * @param {string} documentId        -The document Id\\\n * @param {string} attachmentId      -The attachment Id\n * @returns {string}                 -A conflict link in the format of dbs/{0}/colls/{1}/conflicts/{2} \\\n * with {0} being a Uri escaped version of the databaseId, {1} being collectionId and {2} being the conflictId\n * @description Would be used when creating a Conflict in Azure Cosmos DB database service.\n * @ignore\n */\nexport function createAttachmentUri(\n  databaseId: string,\n  collectionId: string,\n  documentId: string,\n  attachmentId: string\n) {\n  attachmentId = trimSlashFromLeftAndRight(attachmentId);\n  validateResourceId(attachmentId);\n\n  return (\n    createDocumentUri(databaseId, collectionId, documentId) +\n    \"/\" +\n    Constants.Path.AttachmentsPathSegment +\n    \"/\" +\n    attachmentId\n  );\n}\n\n/**\n * @summary Given a database and collection, this creates a partition key ranges link in\\\n *  the Azure Cosmos DB database service.\n * @param {string} databaseId        -The database Id\n * @param {string} collectionId      -The collection Id\n * @returns {string}                 -A partition key ranges link in the format of \\\n * dbs/{0}/colls/{1}/pkranges with {0} being a Uri escaped version of the databaseId and {1} being collectionId\n * @ignore\n */\nexport function createPartitionKeyRangesUri(databaseId: string, collectionId: string) {\n  return (\n    createDocumentCollectionUri(databaseId, collectionId) +\n    \"/\" +\n    Constants.Path.PartitionKeyRangesPathSegment\n  );\n}\n"]}