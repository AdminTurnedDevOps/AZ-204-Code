{"version":3,"file":"defaultAgent.js","sourceRoot":"","sources":["../../src/request/defaultAgent.ts"],"names":[],"mappings":"AAGA,OAAO,EAAE,MAAM,EAAE,MAAM,WAAW,CAAC;AAEnC;;GAEG;AACH,MAAM,CAAC,IAAI,gBAAuB,CAAC;AACnC;;GAEG;AACH,MAAM,CAAC,IAAI,iBAAwB,CAAC;AAEpC,IAAI,MAAM,EAAE;IACV,2CAA2C;IAC3C,MAAM,KAAK,GAAG,OAAO,CAAC,OAAO,CAAC,CAAC;IAC/B,2CAA2C;IAC3C,MAAM,GAAG,GAAG,OAAO,CAAC,KAAK,CAAC,CAAC;IAE3B,wCAAwC;IACxC,IAAI,GAAG,CAAC,mBAAmB,EAAE;QAC3B,iBAAiB,GAAG,IAAI,KAAK,CAAC,KAAK,CAAC;YAClC,SAAS,EAAE,IAAI;YACf,UAAU,EAAE,SAAS;SACtB,CAAC,CAAC;KACJ;SAAM;QACL,8CAA8C;QAC9C,iBAAiB,GAAG,IAAI,KAAK,CAAC,KAAK,CAAC;YAClC,SAAS,EAAE,IAAI;YACf,cAAc,EAAE,gBAAgB;SACjC,CAAC,CAAC;KACJ;IACD,2CAA2C;IAC3C,MAAM,IAAI,GAAG,OAAO,CAAC,MAAM,CAAC,CAAC;IAC7B,gBAAgB,GAAG,IAAI,IAAI,CAAC,KAAK,CAAC;QAChC,SAAS,EAAE,IAAI;KAChB,CAAC,CAAC;CACJ","sourcesContent":["// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\nimport { Agent } from \"http\";\nimport { isNode } from \"../common\";\n\n/**\n * @ignore\n */\nexport let defaultHttpAgent: Agent;\n/**\n * @ignore\n */\nexport let defaultHttpsAgent: Agent;\n\nif (isNode) {\n  // tslint:disable-next-line:no-var-requires\n  const https = require(\"https\");\n  // tslint:disable-next-line:no-var-requires\n  const tls = require(\"tls\");\n\n  // minVersion only available in Node 10+\n  if (tls.DEFAULT_MIN_VERSION) {\n    defaultHttpsAgent = new https.Agent({\n      keepAlive: true,\n      minVersion: \"TLSv1.2\"\n    });\n  } else {\n    // Remove when Node 8 support has been dropped\n    defaultHttpsAgent = new https.Agent({\n      keepAlive: true,\n      secureProtocol: \"TLSv1_2_method\"\n    });\n  }\n  // tslint:disable-next-line:no-var-requires\n  const http = require(\"http\");\n  defaultHttpAgent = new http.Agent({\n    keepAlive: true\n  });\n}\n"]}